<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [PartialDate][1]
*   [generateSlug][2]
    *   [Parameters][3]
*   [GET][4]
    *   [Parameters][5]
*   [GET][6]
    *   [Parameters][7]
*   [GET][8]
    *   [Parameters][9]
*   [GET][10]
    *   [Parameters][11]
*   [calcularTipoDuracion][12]
    *   [Parameters][13]
*   [cn][14]
    *   [Parameters][15]
*   [MOVIE\_STAGES][16]
*   [generatePersonSlug][17]
    *   [Parameters][18]
*   [GENDER\_OPTIONS][19]
*   [dynamic][20]
*   [MONTHS][21]
*   [MONTHS][22]
*   [DEPARTMENTS][23]
*   [getAll][24]
    *   [Parameters][25]
*   [getByDepartment][26]
    *   [Parameters][27]
*   [getById][28]
    *   [Parameters][29]
*   [search][30]
    *   [Parameters][31]
*   [getMainRolesByDepartment][32]
*   [getSimpleList][33]
    *   [Parameters][34]
*   [create][35]
    *   [Parameters][36]
*   [update][37]
    *   [Parameters][38]
*   [delete][39]
    *   [Parameters][40]
*   [checkSlugAvailability][41]
    *   [Parameters][42]
*   [getStats][43]
*   [exportToCSV][44]
    *   [Parameters][45]
*   [reorder][46]
    *   [Parameters][47]
*   [createQuick][48]
    *   [Parameters][49]
*   [seedDefault][50]
*   [revalidate][51]
*   [createSlug][52]
    *   [Parameters][53]
*   [formatMovieDataForAPI][54]
    *   [Parameters][55]
*   [useDebounce][56]
    *   [Parameters][57]
    *   [Examples][58]
*   [generateUniqueSlug][59]
    *   [Parameters][60]
*   [movieFormFieldsSchema][61]
*   [PERSON\_LINK\_TYPES][62]
*   [getDepartmentLabel][63]
*   [getDepartmentLabel][64]
    *   [Parameters][65]
*   [TIPOS\_DURACION][66]
*   [formatPersonDataForAPI][67]
    *   [Parameters][68]
*   [DEPARTMENT\_LABELS][69]
*   [getDepartmentColor][70]
*   [getDepartmentColor][71]
    *   [Parameters][72]
*   [prepareMovieData][73]
    *   [Parameters][74]
*   [formatPersonName][75]
    *   [Parameters][76]
*   [formatDate][77]
    *   [Parameters][78]
*   [getDepartmentOptions][79]
*   [getDepartmentOptions][80]
*   [DATA\_COMPLETENESS\_LEVELS][81]
*   [dateToPartialFields][82]
    *   [Parameters][83]
*   [formatGender][84]
    *   [Parameters][85]
*   [sortRolesByDepartment][86]
    *   [Parameters][87]
*   [getRatings][88]
*   [getColorTypes][89]
*   [getGenres][90]
*   [getCountries][91]
*   [getProductionCompanies][92]
*   [getDistributionCompanies][93]
*   [getThemes][94]
*   [loadAllFormMetadata][95]
*   [formatDuration][96]
    *   [Parameters][97]
*   [PUT][98]
    *   [Parameters][99]
*   [PUT][100]
    *   [Parameters][101]
*   [PUT][102]
    *   [Parameters][103]
*   [SOUND\_TYPES][104]
*   [DEPARTMENT\_COLORS][105]
*   [PERSON\_LINK\_TYPE\_OPTIONS][106]
*   [formatPersonFormDataForAPI][107]
    *   [Parameters][108]
*   [DURATION\_THRESHOLDS][109]
*   [LINK\_CATEGORIES][110]
*   [validateRole][111]
    *   [Parameters][112]
*   [getCompletenessLabel][113]
    *   [Parameters][114]
*   [STAGE\_COLORS][115]
*   [getCompletenessColor][116]
    *   [Parameters][117]
*   [partialFieldsToDate][118]
    *   [Parameters][119]
*   [getStageColor][120]
    *   [Parameters][121]
*   [COMPLETENESS\_COLORS][122]
*   [getStageName][123]
    *   [Parameters][124]
*   [POST][125]
    *   [Parameters][126]
*   [DEFAULT\_PERSON\_FORM\_VALUES][127]
*   [formatPersonFromAPI][128]
    *   [Parameters][129]
*   [formatPartialDate][130]
    *   [Parameters][131]
*   [formatPersonDataForForm][132]
    *   [Parameters][133]
*   [getErrorMessage][134]
    *   [Parameters][135]
*   [DELETE][136]
    *   [Parameters][137]
*   [DELETE][138]
    *   [Parameters][139]
*   [DELETE][140]
    *   [Parameters][141]
*   [formatKeywords][142]
    *   [Parameters][143]
*   [roleSchema][144]
*   [buildReleaseDateData][145]
    *   [Parameters][146]
*   [DEFAULT\_PERSON\_LINK][147]
*   [formatMovieFromAPI][148]
    *   [Parameters][149]
*   [moviePartialDatesSchema][150]
*   [PEOPLE\_PAGINATION][151]
*   [PERSON\_ERROR\_MESSAGES][152]
*   [calculateYearsBetween][153]
    *   [Parameters][154]
*   [shouldDisableDurationType][155]
    *   [Parameters][156]
*   [movieRelationsSchema][157]
*   [PERSON\_SUCCESS\_MESSAGES][158]
*   [validatePartialDate][159]
    *   [Parameters][160]
*   [validatePersonForm][161]
    *   [Parameters][162]
*   [movieFormSchema][163]
*   [movieCompleteSchema][164]
*   [getAll][165]
    *   [Parameters][166]
*   [search][167]
    *   [Parameters][168]
*   [getById][169]
    *   [Parameters][170]
*   [getByIdForEdit][171]
    *   [Parameters][172]
*   [create][173]
    *   [Parameters][174]
*   [createQuick][175]
    *   [Parameters][176]
*   [update][177]
    *   [Parameters][178]
*   [delete][179]
    *   [Parameters][180]
*   [checkSlugAvailability][181]
    *   [Parameters][182]
*   [getStats][183]
*   [exportToCSV][184]
    *   [Parameters][185]
*   [getAll][186]
    *   [Parameters][187]
*   [getById][188]
    *   [Parameters][189]
*   [getByIdForEdit][190]
    *   [Parameters][191]
*   [create][192]
    *   [Parameters][193]
*   [update][194]
    *   [Parameters][195]
*   [delete][196]
    *   [Parameters][197]
*   [search][198]
    *   [Parameters][199]
*   [checkSlugAvailability][200]
    *   [Parameters][201]
*   [getStats][202]
*   [exportToCSV][203]
    *   [Parameters][204]
*   [comparePartialDates][205]
    *   [Parameters][206]
*   [isValidUrl][207]
    *   [Parameters][208]
*   [sortPersonLinks][209]
    *   [Parameters][210]
*   [addNewPersonLink][211]
    *   [Parameters][212]
*   [validateDateRange][213]
    *   [Parameters][214]
*   [updatePersonLink][215]
    *   [Parameters][216]
*   [removePersonLink][217]
    *   [Parameters][218]
*   [formatBirthInfo][219]
    *   [Parameters][220]
*   [createPartialDate][221]
    *   [Parameters][222]
*   [isCompleteDate][223]
    *   [Parameters][224]
*   [isEmptyDate][225]
    *   [Parameters][226]
*   [calculateAge][227]
    *   [Parameters][228]
*   [getPersonSummary][229]
    *   [Parameters][230]

## PartialDate

Tipo compartido para fechas parciales

## generateSlug

Genera un slug a partir de un texto

### Parameters

*   `text` **[string][231]**&#x20;

Returns **[string][231]**&#x20;

## GET

GET

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## GET

GET

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## GET

GET

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## GET

GET

### Parameters

*   `request` **NextRequest**&#x20;

## calcularTipoDuracion

Calcula el tipo de duración basado en minutos y segundos

### Parameters

*   `minutos` **([number][232] | null | [undefined][233])**&#x20;
*   `segundos` **([number][232] | null | [undefined][233])**  (optional, default `0`)

Returns **[string][231]**&#x20;

## cn

Combina clases de Tailwind CSS de forma segura

### Parameters

*   `inputs` **...ClassValue** Clases CSS a combinar

Returns **[string][231]** Clases combinadas y optimizadas

## MOVIE\_STAGES

Estados posibles de producción de una película

Type: [Array][234]<{value: [string][231], label: [string][231]}>

## generatePersonSlug

Genera un slug único para una persona basado en nombre y apellido

### Parameters

*   `firstName` **[string][231]?**&#x20;
*   `lastName` **[string][231]?**&#x20;

Returns **[string][231]**&#x20;

## GENDER\_OPTIONS

Opciones de género disponibles para personas

Type: [Array][234]<{value: [string][231], label: [string][231]}>

## dynamic

dynamic

Type: [string][231]

## MONTHS

Meses en español para los selectores

## MONTHS

MONTHS

## DEPARTMENTS

DEPARTMENTS

## getAll

Obtiene todos los roles con filtros y paginación

### Parameters

*   `filters` **RoleFilters**  (optional, default `{}`)

Returns **[Promise][235]\<PaginatedRolesResponse>**&#x20;

## getByDepartment

Obtiene roles por departamento

### Parameters

*   `department` **Department**&#x20;

Returns **[Promise][235]<[Array][234]\<Role>>**&#x20;

## getById

Obtiene un rol por ID

### Parameters

*   `id` **[number][232]**&#x20;

Returns **[Promise][235]\<Role>**&#x20;

## search

Búsqueda rápida para autocomplete

### Parameters

*   `query` **[string][231]**&#x20;
*   `department` **Department?**&#x20;
*   `limit` **[number][232]**  (optional, default `10`)

Returns **[Promise][235]<[Array][234]\<Role>>**&#x20;

## getMainRolesByDepartment

Obtiene roles principales por departamento (para crew de películas)

Returns **[Promise][235]\<Record<[string][231], [Array][234]\<Role>>>**&#x20;

## getSimpleList

Obtiene lista simple para dropdowns

### Parameters

*   `department` **Department?**&#x20;

Returns **[Promise][235]<[Array][234]\<Pick\<Role, (`"id"` | `"name"` | `"department"`)>>>**&#x20;

## create

Crea un nuevo rol

### Parameters

*   `data` **RoleFormData**&#x20;

Returns **[Promise][235]\<Role>**&#x20;

## update

Actualiza un rol existente

### Parameters

*   `id` **[number][232]**&#x20;
*   `data` **RoleFormData**&#x20;

Returns **[Promise][235]\<Role>**&#x20;

## delete

Elimina un rol

### Parameters

*   `id` **[number][232]**&#x20;

Returns **[Promise][235]\<void>**&#x20;

## checkSlugAvailability

Verifica disponibilidad de slug

### Parameters

*   `slug` **[string][231]**&#x20;
*   `excludeId` **[number][232]?**&#x20;

Returns **[Promise][235]<[boolean][236]>**&#x20;

## getStats

Obtiene estadísticas de roles

Returns **[Promise][235]<{total: [number][232], active: [number][232], mainRoles: [number][232], byDepartment: Record<[number][232], [number][232]>}>**&#x20;

## exportToCSV

Exporta roles a CSV

### Parameters

*   `filters` **RoleFilters**  (optional, default `{}`)

Returns **[Promise][235]<[Blob][237]>**&#x20;

## reorder

Reordena roles dentro de un departamento

### Parameters

*   `roleIds` **[Array][234]<[number][232]>**&#x20;

Returns **[Promise][235]\<void>**&#x20;

## createQuick

Crea rol rápido con solo nombre y departamento

### Parameters

*   `name` **[string][231]**&#x20;
*   `department` **Department**&#x20;

Returns **[Promise][235]\<Role>**&#x20;

## seedDefault

Crea roles por defecto

Returns **[Promise][235]<{created: [number][232], skipped: [number][232]}>**&#x20;

## revalidate

revalidate

Type: [number][232]

## createSlug

createSlug

### Parameters

*   `text` **[string][231]**&#x20;

Returns **[string][231]**&#x20;

## formatMovieDataForAPI

Formatea los datos del formulario de película para enviar a la API
Convierte las fechas completas o parciales al formato esperado por el backend

### Parameters

*   `data` **MovieCompleteData**&#x20;

Returns **any**&#x20;

## useDebounce

Hook que retrasa la actualización de un valor hasta que haya pasado
un tiempo determinado sin cambios

### Parameters

*   `value` **T** El valor a retrasar
*   `delay` **[number][232]** El tiempo de retraso en milisegundos

### Examples

```javascript
const [searchTerm, setSearchTerm] = useState('');
const debouncedSearchTerm = useDebounce(searchTerm, 300);

// debouncedSearchTerm se actualizará 300ms después de que 
// el usuario deje de escribir
```

Returns **T** El valor retrasado

## generateUniqueSlug

Genera un slug único verificando contra la base de datos

### Parameters

*   `text` **[string][231]**&#x20;
*   `model` **(`"location"` | `"movie"` | `"person"` | `"genre"` | `"productionCompany"` | `"distributionCompany"`)**&#x20;
*   `prisma` **PrismaClient**&#x20;
*   `excludeId` **[number][232]?**&#x20;

Returns **[Promise][235]<[string][231]>**&#x20;

## movieFormFieldsSchema

movieFormFieldsSchema

## PERSON\_LINK\_TYPES

Tipos de enlaces externos para personas (IMDB, Wikipedia, etc.)

Type: [Array][234]<{value: [string][231], label: [string][231]}>

## getDepartmentLabel

getDepartmentLabel

## getDepartmentLabel

getDepartmentLabel

### Parameters

*   `department` **Department**&#x20;

Returns **[string][231]**&#x20;

## TIPOS\_DURACION

TIPOS\_DURACION

## formatPersonDataForAPI

Formatea los datos del formulario para enviar a la API
Convierte las fechas completas o parciales al formato esperado por el backend

### Parameters

*   `data` **PersonFormData**&#x20;

Returns **any**&#x20;

## DEPARTMENT\_LABELS

DEPARTMENT\_LABELS

## getDepartmentColor

getDepartmentColor

## getDepartmentColor

getDepartmentColor

### Parameters

*   `department` **Department**&#x20;

Returns **[string][231]**&#x20;

## prepareMovieData

Limpia y prepara los datos del formulario para enviar al backend

### Parameters

*   `data` **MovieFormData**&#x20;

## formatPersonName

Formatea el nombre completo de una persona

### Parameters

*   `person` **Partial\<Person>**&#x20;

Returns **[string][231]**&#x20;

## formatDate

formatDate

### Parameters

*   `date` **([Date][238] | [string][231] | null)**&#x20;

Returns **[string][231]**&#x20;

## getDepartmentOptions

getDepartmentOptions

## getDepartmentOptions

getDepartmentOptions

## DATA\_COMPLETENESS\_LEVELS

DATA\_COMPLETENESS\_LEVELS

## dateToPartialFields

Convierte una fecha completa (string ISO) a campos parciales
IMPORTANTE: Maneja correctamente las zonas horarias para evitar el problema del día anterior

### Parameters

*   `dateString` **([string][231] | null | [undefined][233])**&#x20;

Returns **[PartialDate][1]**&#x20;

## formatGender

Formatea el género para mostrar

### Parameters

*   `gender` **(Gender | null)?**&#x20;

Returns **[string][231]**&#x20;

## sortRolesByDepartment

sortRolesByDepartment

### Parameters

*   `roles` **[Array][234]\<any>**&#x20;

Returns **[Array][234]\<any>**&#x20;

## getRatings

Obtiene las calificaciones disponibles

Returns **[Promise][235]<[Array][234]\<Rating>>**&#x20;

## getColorTypes

Obtiene los tipos de color disponibles

Returns **[Promise][235]<[Array][234]\<ColorType>>**&#x20;

## getGenres

Obtiene todos los géneros

Returns **[Promise][235]<[Array][234]\<Genre>>**&#x20;

## getCountries

Obtiene todos los países

Returns **[Promise][235]<[Array][234]\<Country>>**&#x20;

## getProductionCompanies

Obtiene las productoras

Returns **[Promise][235]<[Array][234]\<Company>>**&#x20;

## getDistributionCompanies

Obtiene las distribuidoras

Returns **[Promise][235]<[Array][234]\<Company>>**&#x20;

## getThemes

Obtiene los temas/keywords

Returns **[Promise][235]<[Array][234]\<Theme>>**&#x20;

## loadAllFormMetadata

Carga todos los metadatos necesarios para el formulario

## formatDuration

formatDuration

### Parameters

*   `minutes` **([number][232] | null)**&#x20;

Returns **[string][231]**&#x20;

## PUT

PUT

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## PUT

PUT

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## PUT

PUT

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## SOUND\_TYPES

SOUND\_TYPES

## DEPARTMENT\_COLORS

DEPARTMENT\_COLORS

## PERSON\_LINK\_TYPE\_OPTIONS

PERSON\_LINK\_TYPE\_OPTIONS

## formatPersonFormDataForAPI

Convierte los datos del formulario para enviar a la API
NOTA: Esta función ya no se usa, se usa formatPersonDataForAPI en people.service.ts

### Parameters

*   `data` **PersonFormData**&#x20;

## DURATION\_THRESHOLDS

DURATION\_THRESHOLDS

## LINK\_CATEGORIES

LINK\_CATEGORIES

## validateRole

validateRole

### Parameters

*   `name` **[string][231]**&#x20;
*   `department` **Department**&#x20;

Returns **([string][231] | null)**&#x20;

## getCompletenessLabel

Obtiene el label de completitud de datos

### Parameters

*   `completeness` **[string][231]**&#x20;

Returns **[string][231]**&#x20;

## STAGE\_COLORS

STAGE\_COLORS

## getCompletenessColor

Obtiene el color CSS para el nivel de completitud

### Parameters

*   `completeness` **[string][231]**&#x20;

Returns **[string][231]**&#x20;

## partialFieldsToDate

Convierte campos parciales a una fecha completa si es posible
Retorna en formato YYYY-MM-DD sin información de hora para evitar problemas de timezone

### Parameters

*   `partial` **[PartialDate][1]**&#x20;

Returns **([string][231] | null)**&#x20;

## getStageColor

Obtiene el color CSS para la etapa de la película

### Parameters

*   `stage` **[string][231]?**&#x20;

Returns **[string][231]**&#x20;

## COMPLETENESS\_COLORS

COMPLETENESS\_COLORS

## getStageName

Obtiene el nombre de la etapa

### Parameters

*   `stage` **[string][231]?**&#x20;

Returns **[string][231]**&#x20;

## POST

POST

### Parameters

*   `request` **NextRequest**&#x20;

## DEFAULT\_PERSON\_FORM\_VALUES

DEFAULT\_PERSON\_FORM\_VALUES

Type: PersonFormData

## formatPersonFromAPI

Convierte los datos de la API al formato del formulario

### Parameters

*   `person` **any**&#x20;

Returns **PersonFormData**&#x20;

## formatPartialDate

Formatea una fecha parcial para mostrar

### Parameters

*   `partial` **[PartialDate][1]** La fecha parcial
*   `options` **{monthFormat: (`"short"` | `"long"`)?, includeDay: [boolean][236]?, fallback: [string][231]?}** Opciones de formato (optional, default `{}`)

Returns **[string][231]**&#x20;

## formatPersonDataForForm

Convierte los datos de la API al formato del formulario
Maneja tanto fechas completas como parciales

### Parameters

*   `person` **(PersonWithRelations | null)?**&#x20;

Returns **PersonFormData**&#x20;

## getErrorMessage

Obtiene un mensaje de error legible

### Parameters

*   `error` **any**&#x20;

Returns **[string][231]**&#x20;

## DELETE

DELETE

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## DELETE

DELETE

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## DELETE

DELETE

### Parameters

*   `request` **NextRequest**&#x20;
*   `$1` **{params: {id: [string][231]}}**&#x20;

    *   `$1.params` &#x20;

## formatKeywords

Formatea keywords para enviar al backend

### Parameters

*   `keywords` **[string][231]**&#x20;

Returns **[Array][234]<[string][231]>**&#x20;

## roleSchema

roleSchema

## buildReleaseDateData

Construye los datos de fecha de estreno según el tipo (parcial o completa)

### Parameters

*   `isPartialDate` **[boolean][236]**&#x20;
*   `releaseDate` **[string][231]?**&#x20;
*   `partialReleaseDate` **{year: ([number][232] | null), month: ([number][232] | null)}?**&#x20;

## DEFAULT\_PERSON\_LINK

DEFAULT\_PERSON\_LINK

## formatMovieFromAPI

Convierte los datos de la API al formato del formulario

### Parameters

*   `movie` **any**&#x20;

Returns **MovieCompleteData**&#x20;

## moviePartialDatesSchema

moviePartialDatesSchema

## PEOPLE\_PAGINATION

PEOPLE\_PAGINATION

## PERSON\_ERROR\_MESSAGES

PERSON\_ERROR\_MESSAGES

## calculateYearsBetween

Calcula la edad o años transcurridos entre dos fechas parciales

### Parameters

*   `startDate` **[PartialDate][1]** Fecha de inicio (nacimiento, estreno, etc.)
*   `endDate` **[PartialDate][1]?** Fecha de fin (muerte, fecha actual, etc.). Si no se proporciona, usa la fecha actual

Returns **([number][232] | null)**&#x20;

## shouldDisableDurationType

Determina si el campo de tipo de duración debe estar deshabilitado

### Parameters

*   `minutos` **([number][232] | [undefined][233] | null)**&#x20;
*   `segundos` **([number][232] | [undefined][233] | null)**&#x20;

Returns **[boolean][236]**&#x20;

## movieRelationsSchema

movieRelationsSchema

## PERSON\_SUCCESS\_MESSAGES

PERSON\_SUCCESS\_MESSAGES

## validatePartialDate

Valida que una fecha parcial sea válida

### Parameters

*   `partial` **[PartialDate][1]** La fecha parcial a validar
*   `options` **{minYear: [number][232]?, maxYear: [number][232]?, allowFuture: [boolean][236]?, fieldName: [string][231]?}** Opciones de validación (optional, default `{}`)

Returns **([string][231] | null)**&#x20;

## validatePersonForm

Valida los datos del formulario de persona

### Parameters

*   `data` **PersonFormData**&#x20;

Returns **[Array][234]<[string][231]>**&#x20;

## movieFormSchema

movieFormSchema

## movieCompleteSchema

movieCompleteSchema

## getAll

Obtiene una lista paginada de personas con filtros

### Parameters

*   `filters` **PersonFilters**  (optional, default `{}`)

Returns **[Promise][235]\<PaginatedPeopleResponse>**&#x20;

## search

Busca personas por nombre (para autocomplete)

### Parameters

*   `query` **[string][231]**&#x20;
*   `limit` **[number][232]**  (optional, default `10`)

Returns **[Promise][235]<[Array][234]\<PersonSearchResult>>**&#x20;

## getById

Obtiene una persona por ID con todas sus relaciones

### Parameters

*   `id` **[number][232]**&#x20;

Returns **[Promise][235]\<PersonWithRelations>**&#x20;

## getByIdForEdit

Obtiene una persona por ID en formato de formulario

### Parameters

*   `id` **[number][232]**&#x20;

Returns **[Promise][235]\<PersonFormData>**&#x20;

## create

Crea una nueva persona

### Parameters

*   `data` **PersonFormData**&#x20;

Returns **[Promise][235]\<PersonWithRelations>**&#x20;

## createQuick

Crea una persona rápida (solo con nombre)

### Parameters

*   `name` **[string][231]**&#x20;

Returns **[Promise][235]\<Person>**&#x20;

## update

Actualiza una persona

### Parameters

*   `id` **[number][232]**&#x20;
*   `data` **PersonFormData**&#x20;

Returns **[Promise][235]\<PersonWithRelations>**&#x20;

## delete

Elimina una persona

### Parameters

*   `id` **[number][232]**&#x20;

Returns **[Promise][235]\<void>**&#x20;

## checkSlugAvailability

Verifica si un slug está disponible

### Parameters

*   `slug` **[string][231]**&#x20;
*   `excludeId` **[number][232]?**&#x20;

Returns **[Promise][235]<[boolean][236]>**&#x20;

## getStats

Obtiene estadísticas de personas

Returns **[Promise][235]<{total: [number][232], active: [number][232], withLinks: [number][232], byGender: Record<[string][231], [number][232]>}>**&#x20;

## exportToCSV

Exporta personas a CSV

### Parameters

*   `filters` **PersonFilters**  (optional, default `{}`)

Returns **[Promise][235]<[Blob][237]>**&#x20;

## getAll

Obtiene la lista de películas con filtros y paginación

### Parameters

*   `filters` **MovieFilters**&#x20;

Returns **[Promise][235]\<MoviesResponse>**&#x20;

## getById

Obtiene una película por ID con todas sus relaciones

### Parameters

*   `id` **[number][232]**&#x20;

Returns **[Promise][235]\<any>**&#x20;

## getByIdForEdit

Obtiene una película por ID en formato de formulario para edición

### Parameters

*   `id` **[number][232]**&#x20;

Returns **[Promise][235]\<MovieCompleteData>**&#x20;

## create

Crea una nueva película

### Parameters

*   `data` **MovieCompleteData**&#x20;

Returns **[Promise][235]\<any>**&#x20;

## update

Actualiza una película existente

### Parameters

*   `id` **[number][232]**&#x20;
*   `data` **MovieCompleteData**&#x20;

Returns **[Promise][235]\<any>**&#x20;

## delete

Elimina una película

### Parameters

*   `id` **[number][232]**&#x20;

Returns **[Promise][235]\<void>**&#x20;

## search

Busca películas por término de búsqueda (autocomplete)

### Parameters

*   `term` **[string][231]**&#x20;
*   `limit` **[number][232]**  (optional, default `10`)

Returns **[Promise][235]<[Array][234]\<any>>**&#x20;

## checkSlugAvailability

Verifica si un slug está disponible

### Parameters

*   `slug` **[string][231]**&#x20;
*   `excludeId` **[number][232]?**&#x20;

Returns **[Promise][235]<[boolean][236]>**&#x20;

## getStats

Obtiene estadísticas de películas

Returns **[Promise][235]<{total: [number][232], byYear: Record<[string][231], [number][232]>, byStage: Record<[string][231], [number][232]>, byDataCompleteness: Record<[string][231], [number][232]>}>**&#x20;

## exportToCSV

Exporta películas a CSV

### Parameters

*   `filters` **MovieFilters**&#x20;

Returns **[Promise][235]<[Blob][237]>**&#x20;

## comparePartialDates

Compara dos fechas parciales

### Parameters

*   `date1` **[PartialDate][1]**&#x20;
*   `date2` **[PartialDate][1]**&#x20;

Returns **([number][232] | null)** -1 si date1 < date2, 0 si son iguales, 1 si date1 > date2, null si no se pueden comparar

## isValidUrl

Valida si una cadena es una URL válida

### Parameters

*   `url` **[string][231]**&#x20;

Returns **[boolean][236]**&#x20;

## sortPersonLinks

Ordena los links por displayOrder

### Parameters

*   `links` **[Array][234]\<PersonLink>**&#x20;

Returns **[Array][234]\<PersonLink>**&#x20;

## addNewPersonLink

Agrega un nuevo link con valores por defecto

### Parameters

*   `currentLinks` **[Array][234]\<PersonLink>**&#x20;

Returns **[Array][234]\<PersonLink>**&#x20;

## validateDateRange

Valida un rango de fechas parciales

### Parameters

*   `startDate` **[PartialDate][1]**&#x20;
*   `endDate` **[PartialDate][1]**&#x20;
*   `startFieldName` **[string][231]**  (optional, default `'inicio'`)
*   `endFieldName` **[string][231]**  (optional, default `'fin'`)

Returns **([string][231] | null)**&#x20;

## updatePersonLink

Actualiza un link específico

### Parameters

*   `links` **[Array][234]\<PersonLink>**&#x20;
*   `index` **[number][232]**&#x20;
*   `updates` **Partial\<PersonLink>**&#x20;

Returns **[Array][234]\<PersonLink>**&#x20;

## removePersonLink

Elimina un link y reordena los displayOrder

### Parameters

*   `links` **[Array][234]\<PersonLink>**&#x20;
*   `index` **[number][232]**&#x20;

Returns **[Array][234]\<PersonLink>**&#x20;

## formatBirthInfo

Genera el texto para mostrar la edad o fecha de nacimiento
Actualizada para manejar fechas parciales

### Parameters

*   `person` **any**&#x20;

Returns **[string][231]**&#x20;

## createPartialDate

Crea una fecha parcial desde valores de formulario

### Parameters

*   `year` **([string][231] | [number][232] | null | [undefined][233])**&#x20;
*   `month` **([string][231] | [number][232] | null | [undefined][233])**&#x20;
*   `day` **([string][231] | [number][232] | null | [undefined][233])**&#x20;

Returns **[PartialDate][1]**&#x20;

## isCompleteDate

Verifica si una fecha parcial está completa

### Parameters

*   `partial` **[PartialDate][1]**&#x20;

Returns **[boolean][236]**&#x20;

## isEmptyDate

Verifica si una fecha parcial está vacía

### Parameters

*   `partial` **[PartialDate][1]**&#x20;

Returns **[boolean][236]**&#x20;

## calculateAge

Calcula la edad a partir de una fecha de nacimiento

### Parameters

*   `birthDate` **[Date][238]**&#x20;
*   `deathDate` **[Date][238]?**&#x20;

Returns **[number][232]**&#x20;

## getPersonSummary

Genera un resumen de la persona para mostrar en listas
Actualizada para manejar fechas parciales

### Parameters

*   `person` **any**&#x20;

Returns **[string][231]**&#x20;

[1]: #partialdate

[2]: #generateslug

[3]: #parameters

[4]: #get

[5]: #parameters-1

[6]: #get-1

[7]: #parameters-2

[8]: #get-2

[9]: #parameters-3

[10]: #get-3

[11]: #parameters-4

[12]: #calculartipoduracion

[13]: #parameters-5

[14]: #cn

[15]: #parameters-6

[16]: #movie_stages

[17]: #generatepersonslug

[18]: #parameters-7

[19]: #gender_options

[20]: #dynamic

[21]: #months

[22]: #months-1

[23]: #departments

[24]: #getall

[25]: #parameters-8

[26]: #getbydepartment

[27]: #parameters-9

[28]: #getbyid

[29]: #parameters-10

[30]: #search

[31]: #parameters-11

[32]: #getmainrolesbydepartment

[33]: #getsimplelist

[34]: #parameters-12

[35]: #create

[36]: #parameters-13

[37]: #update

[38]: #parameters-14

[39]: #delete

[40]: #parameters-15

[41]: #checkslugavailability

[42]: #parameters-16

[43]: #getstats

[44]: #exporttocsv

[45]: #parameters-17

[46]: #reorder

[47]: #parameters-18

[48]: #createquick

[49]: #parameters-19

[50]: #seeddefault

[51]: #revalidate

[52]: #createslug

[53]: #parameters-20

[54]: #formatmoviedataforapi

[55]: #parameters-21

[56]: #usedebounce

[57]: #parameters-22

[58]: #examples

[59]: #generateuniqueslug

[60]: #parameters-23

[61]: #movieformfieldsschema

[62]: #person_link_types

[63]: #getdepartmentlabel

[64]: #getdepartmentlabel-1

[65]: #parameters-24

[66]: #tipos_duracion

[67]: #formatpersondataforapi

[68]: #parameters-25

[69]: #department_labels

[70]: #getdepartmentcolor

[71]: #getdepartmentcolor-1

[72]: #parameters-26

[73]: #preparemoviedata

[74]: #parameters-27

[75]: #formatpersonname

[76]: #parameters-28

[77]: #formatdate

[78]: #parameters-29

[79]: #getdepartmentoptions

[80]: #getdepartmentoptions-1

[81]: #data_completeness_levels

[82]: #datetopartialfields

[83]: #parameters-30

[84]: #formatgender

[85]: #parameters-31

[86]: #sortrolesbydepartment

[87]: #parameters-32

[88]: #getratings

[89]: #getcolortypes

[90]: #getgenres

[91]: #getcountries

[92]: #getproductioncompanies

[93]: #getdistributioncompanies

[94]: #getthemes

[95]: #loadallformmetadata

[96]: #formatduration

[97]: #parameters-33

[98]: #put

[99]: #parameters-34

[100]: #put-1

[101]: #parameters-35

[102]: #put-2

[103]: #parameters-36

[104]: #sound_types

[105]: #department_colors

[106]: #person_link_type_options

[107]: #formatpersonformdataforapi

[108]: #parameters-37

[109]: #duration_thresholds

[110]: #link_categories

[111]: #validaterole

[112]: #parameters-38

[113]: #getcompletenesslabel

[114]: #parameters-39

[115]: #stage_colors

[116]: #getcompletenesscolor

[117]: #parameters-40

[118]: #partialfieldstodate

[119]: #parameters-41

[120]: #getstagecolor

[121]: #parameters-42

[122]: #completeness_colors

[123]: #getstagename

[124]: #parameters-43

[125]: #post

[126]: #parameters-44

[127]: #default_person_form_values

[128]: #formatpersonfromapi

[129]: #parameters-45

[130]: #formatpartialdate

[131]: #parameters-46

[132]: #formatpersondataforform

[133]: #parameters-47

[134]: #geterrormessage

[135]: #parameters-48

[136]: #delete-1

[137]: #parameters-49

[138]: #delete-2

[139]: #parameters-50

[140]: #delete-3

[141]: #parameters-51

[142]: #formatkeywords

[143]: #parameters-52

[144]: #roleschema

[145]: #buildreleasedatedata

[146]: #parameters-53

[147]: #default_person_link

[148]: #formatmoviefromapi

[149]: #parameters-54

[150]: #moviepartialdatesschema

[151]: #people_pagination

[152]: #person_error_messages

[153]: #calculateyearsbetween

[154]: #parameters-55

[155]: #shoulddisabledurationtype

[156]: #parameters-56

[157]: #movierelationsschema

[158]: #person_success_messages

[159]: #validatepartialdate

[160]: #parameters-57

[161]: #validatepersonform

[162]: #parameters-58

[163]: #movieformschema

[164]: #moviecompleteschema

[165]: #getall-1

[166]: #parameters-59

[167]: #search-1

[168]: #parameters-60

[169]: #getbyid-1

[170]: #parameters-61

[171]: #getbyidforedit

[172]: #parameters-62

[173]: #create-1

[174]: #parameters-63

[175]: #createquick-1

[176]: #parameters-64

[177]: #update-1

[178]: #parameters-65

[179]: #delete-4

[180]: #parameters-66

[181]: #checkslugavailability-1

[182]: #parameters-67

[183]: #getstats-1

[184]: #exporttocsv-1

[185]: #parameters-68

[186]: #getall-2

[187]: #parameters-69

[188]: #getbyid-2

[189]: #parameters-70

[190]: #getbyidforedit-1

[191]: #parameters-71

[192]: #create-2

[193]: #parameters-72

[194]: #update-2

[195]: #parameters-73

[196]: #delete-5

[197]: #parameters-74

[198]: #search-2

[199]: #parameters-75

[200]: #checkslugavailability-2

[201]: #parameters-76

[202]: #getstats-2

[203]: #exporttocsv-2

[204]: #parameters-77

[205]: #comparepartialdates

[206]: #parameters-78

[207]: #isvalidurl

[208]: #parameters-79

[209]: #sortpersonlinks

[210]: #parameters-80

[211]: #addnewpersonlink

[212]: #parameters-81

[213]: #validatedaterange

[214]: #parameters-82

[215]: #updatepersonlink

[216]: #parameters-83

[217]: #removepersonlink

[218]: #parameters-84

[219]: #formatbirthinfo

[220]: #parameters-85

[221]: #createpartialdate

[222]: #parameters-86

[223]: #iscompletedate

[224]: #parameters-87

[225]: #isemptydate

[226]: #parameters-88

[227]: #calculateage

[228]: #parameters-89

[229]: #getpersonsummary

[230]: #parameters-90

[231]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[232]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[233]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[234]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[235]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[236]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[237]: https://developer.mozilla.org/docs/Web/API/Blob

[238]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date
