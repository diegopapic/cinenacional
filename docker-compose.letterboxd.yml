# docker-compose.letterboxd.yml
# Servicio para actualización diaria de popularidad desde Letterboxd
#
# Uso manual:
#   docker compose -f docker-compose.yml -f docker-compose.letterboxd.yml run --rm letterboxd-updater
#
# Uso via cron (ver scripts/setup-letterboxd-cron.sh):
#   Se ejecuta automáticamente todos los días a las 4:00 AM

services:
  letterboxd-updater:
    build:
      context: .
      dockerfile: Dockerfile.letterboxd
    container_name: cinenacional-letterboxd-updater
    profiles:
      - tools
    environment:
      - DATABASE_URL=postgresql://cinenacional:${POSTGRES_PASSWORD}@postgres:5432/cinenacional
    depends_on:
      postgres:
        condition: service_healthy
    networks:
      - cinenacional-network

networks:
  cinenacional-network:
    name: cinenacional_cinenacional-network
    external: true
